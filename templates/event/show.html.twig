{% extends 'base.html.twig' %}

{% block title %}Event{% endblock %}

{% block body %}
    <h1>Event</h1>

    <table class="table">
        <tbody>
{#            <tr>#}
{#                <th>Id</th>#}
{#                <td>{{ event.id }}</td>#}
{#            </tr>#}
{#            <tr>#}
{#                <th>IdEvent</th>#}
{#                <td>{{ event.idEvent }}</td>#}
{#            </tr>#}
            <tr>
                <th>Name</th>
                <td>{{ event.name }}</td>
            </tr>
            <tr>
                <th>DateHourStart</th>
                <td>{{ event.dateHourStart ? event.dateHourStart|date('Y-m-d H:i:s T') : '' }}</td>
            </tr>
            <tr>
                <th>Duration</th>
                <td>{{ event.duration ? event.duration|date('H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>DateLimitInscription</th>
                <td>{{ event.dateLimitInscription ? event.dateLimitInscription|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>NbInscriptionsMax</th>
                <td>{{ event.NbInscriptionsMax }}</td>
            </tr>
            <tr>
                <th>InfosEvent</th>
                <td>{{ event.infosEvent }}</td>
            </tr>
{#            <tr>#}
{#                <th>ReasonCancellation</th>#}
{#                <td>{{ event.ReasonCancellation }}</td>#}
{#            </tr>#}
            <tr>
                <th>Schoolsite</th>
                <td>{{ event.schoolsite }}</td>
            </tr>
            <tr>
                <th>Location</th>
                <td>{{ event.locationevent }}</td>
            </tr>

        </tbody>
    </table>



    {% if app.user and event.eventorgenazedby == app.user %}
<ul>

    <li><a href="{{ path('app_event_show', {'id': event.id}) }}">En savoir plus...</a></li>
    <li><a href="{{ path('app_event_edit', {'id': event.id}) }}">Modifier</a></li>
</ul>

    {% else %}
<ul>
<li><a href="{{ path('app_event_index') }}">Retour aux sorties</a></li>
<li><a href="{{ path('app_subscription', {'eventId': event.id}) }}">S'inscrire</a></li>
        {#  creer un if pour supprimer le bouton se desinscrire si on n'est pas inscrit #}
<li> <a href="{{ path('app_unsubscription', {'eventId': event.id}) }}">Se désinscrire</a></li>
</ul>
    {% endif %}

{#    MC: à voir qui peut supprimer un event : l'admin ou l'organisateur ? différencier annuler et supprimer#}
    {{ include('event/_delete_form.html.twig') }}
{% endblock %}
